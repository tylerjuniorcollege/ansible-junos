
---
- name: Get Interfaces in Interface Ranges
  hosts: Junos_Test
  gather_facts: no
  roles:
    - Juniper.junos
  tasks:
    - name: Get Interfaces in Interface Ranges from config
      juniper_junos_command:
        formats: text
        commands:
          - "show configuration interfaces interface-range {{ range | mandatory }}"
      register: dirtyInterfaces
    - name: print dirtyInterfaces.stdout_lines
      debug:
        var: dirtyInterfaces.stdout_lines

    - name: Parse through and remove "member"
      junos_config:
        lines:
         - delete interfaces interface-range XIRRUS-WAP member {{ dirtyinterface }} 

